/*!
 * Suzi Grid v0.1.1
 *
 * A JavaScript implementation of Suzi's grid system for rapid development
 *
 * Copyright (c) 2014 Matt Stow
 *
 * http://mattstow.com
 *
 * Licensed under the MIT license
*/
(function(){var a={css:"",setup:function(o){var k=Array.prototype.slice.call(document.getElementsByClassName("grid_container")),d=Array.prototype.slice.call(document.getElementsByClassName("grid_item")),m=[],f,n=[],i,e,l,h=window.location.search.match(/gutter=(\d+)/),p=h?window.location.search.match(/gutter=(\d+)/)[1]+"px":"20px",b=function(q,s){var r=h?p:"20px";if(s==="margin-left"){r="-"+r}if((Math.abs(parseInt(window.getComputedStyle(q).getPropertyValue(s)))===99)||h){q.style.cssText+=s+":"+r}};if(k.length===0){return}l='.grid_container {\nlist-style: none;\n}\n.grid_container:after {\nclear: both;\ncontent: ".";\ndisplay: block;\nheight: 0;\nvisibility: hidden;\n}\n.grid_item {-moz-box-sizing: border-box;\n-webkit-box-sizing: border-box;\nbox-sizing: border-box;\nfloat: left;\nwidth: 100%;\n}\n';if(!o){k.forEach(function(q,r){e=k[r];b(e,"margin-left")})}d.forEach(function(q,r){e=d[r];if(!o){b(e,"margin-bottom");b(e,"padding-left")}if(e.className.match(/\bw\d+\b/g)){e.className.match(/\bw\d+\b/g).forEach(function(s,t){if(e.className.match(/\bw\d+\b/g)[t]){m.push(e.className.match(/\bw\d+\b/g)[t])}})}if(e.className.match(/\bw\d+_at_\d+\b/g)){e.className.match(/\bw\d+_at_\d+\b/g).forEach(function(s,t){if(e.className.match(/\bw\d+_at_\d+\b/g)[t]){m.push(e.className.match(/\bw\d+_at_\d+\b/g)[t]);n.push(e.className.match(/\bw\d+_at_\d+\b/g)[t])}})}});if(m.length===0&&n.length===0){return}var g=function(r,q){return r-q};var c=function(r){var q=parseInt(r,10);if(q===16){q=16.6667}else{if(q===33){q=33.3333}else{if(q===66){q=66.6666}}}return q};m.forEach(function(q,r){m[r]=parseInt(q.replace(/_at_.*/g,"").replace(/w/,""))});m.sort(g);f=m.filter(function(q,r){return m.indexOf(q)===r});n.forEach(function(q,r){n[r]=parseInt(q.replace(/.*?_at_/g,"").replace(/w/,""))});n.sort(g);i=n.filter(function(q,r){return n.indexOf(q)===r});var j=function(v,t,s){var r=100/t,q=t===33.3333?true:false,u=window.mqGenie&&window.mqGenie.adjusted?s+window.mqGenie.width:s;if(q||(Math.round(r)===r&&(r>1&&r<6))){if(!s){l+="."+v+":nth-child(n) { clear: none; }\n";if(q){l+="."+v+":nth-child(3n+4) { clear: both; }\n"}else{l+="."+v+":nth-child("+r+"n+"+(r+1)+") { clear: both; }\n"}}else{l+="@media (min-width: "+u+"px) { ."+v+"_at_"+s+":nth-child(n) { clear: none; } }\n";if(q){l+="@media (min-width: "+u+"px) { ."+v+"_at_"+s+":nth-child(3n+4) { clear: both; } }\n"}else{l+="@media (min-width: "+u+"px) { ."+v+"_at_"+s+":nth-child("+r+"n+"+(r+1)+") { clear: both; } }\n"}}}};f.forEach(function(r,s){var q=c(r);l+=".w"+r+" { width: "+q+"%; }\n";j("w"+r,q)});l+=".clear:nth-child(n) { clear: both; }\n.unclear:nth-child(n) { clear: none; }\n";i.forEach(function(q,r){f.forEach(function(s,t){var v=c(s),u=parseInt(q);if(window.mqGenie&&window.mqGenie.adjusted){u+=window.mqGenie.width}l+="@media (min-width: "+u+"px) { .w"+s+"_at_"+q+" { width: "+v+"%; } }\n";j("w"+s,v,q);if(t===f.length-1){l+="@media (min-width: "+u+"px) { .clear_at_"+q+" { clear: both; } }\n@media (min-width: "+u+"px) { .unclear_at_"+q+" { clear: none; } }\n"}})});a.css=l;console.log("("+i.toString().replace(/,/g,", ")+"), ("+f.toString().replace(/w33/g,"w33.3333").replace(/w66/g,"w66.6666").replace(/w/g,"").replace(/,/g,", ")+")")},init:function(){if(!window.getComputedStyle){return}var d=document.createElement("style"),c=document.createElement("style"),b=".grid_container {\nmargin-left: -99px;\n}\n.grid_item {margin-bottom: 99px;\npadding-left: 99px;\n}\n";d.type="text/css";c.type="text/css";c.id="suzi_grid";d.appendChild(document.createTextNode(b));document.head.insertBefore(d,document.getElementsByTagName("link")[0]);a.setup();c.appendChild(document.createTextNode(a.css));document.head.appendChild(c)},refresh:function(){a.setup(true);document.getElementById("suzi_grid").innerHTML=a.css}};a.init();window.suzigrid=a.refresh})(window,document);