/*!
 * Suzi Grid v0.1.2
 *
 * A JavaScript implementation of Suzi's grid system for rapid development
 *
 * Copyright (c) 2014 Matt Stow
 *
 * http://mattstow.com
 *
 * Licensed under the MIT license
*/
(function(){var a={css:"",setup:function(p){var l=Array.prototype.slice.call(document.getElementsByClassName("grid_container")),d=Array.prototype.slice.call(document.getElementsByClassName("grid_item")),n=[],f,o=[],i,e,m,k="",h=window.location.search.match(/gutter=(\d+)/),q=h?window.location.search.match(/gutter=(\d+)/)[1]+"px":"20px",b=function(r,t){var s=h?q:"20px";if(t==="margin-left"){s="-"+s}if((Math.abs(parseInt(window.getComputedStyle(r).getPropertyValue(t)))===99)||h){r.style.cssText+=t+":"+s}};if(l.length===0){return}m='.grid_container {\nlist-style: none;\n}\n.grid_container:after {\nclear: both;\ncontent: ".";\ndisplay: block;\nheight: 0;\nvisibility: hidden;\n}\n.grid_item {-moz-box-sizing: border-box;\n-webkit-box-sizing: border-box;\nbox-sizing: border-box;\nfloat: left;\nwidth: 100%;\n}\n';if(!p){l.forEach(function(r,s){e=l[s];b(e,"margin-left")})}d.forEach(function(r,s){e=d[s];if(!p){b(e,"margin-bottom");b(e,"padding-left")}if(e.className.match(/\bw\d+\b/g)){e.className.match(/\bw\d+\b/g).forEach(function(t,u){if(e.className.match(/\bw\d+\b/g)[u]){n.push(e.className.match(/\bw\d+\b/g)[u])}})}if(e.className.match(/\bw\d+_at_\d+\b/g)){e.className.match(/\bw\d+_at_\d+\b/g).forEach(function(t,u){if(e.className.match(/\bw\d+_at_\d+\b/g)[u]){n.push(e.className.match(/\bw\d+_at_\d+\b/g)[u]);o.push(e.className.match(/\bw\d+_at_\d+\b/g)[u])}})}});if(n.length===0&&o.length===0){return}var g=function(s,r){return s-r};var c=function(s){var r=parseInt(s,10);if(r===16){r=16.6667}else{if(r===33){r=33.3333}else{if(r===66){r=66.6666}}}return r};n.forEach(function(r,s){n[s]=parseInt(r.replace(/_at_.*/g,"").replace(/w/,""))});n.sort(g);f=n.filter(function(r,s){return n.indexOf(r)===s});o.forEach(function(r,s){o[s]=parseInt(r.replace(/.*?_at_/g,"").replace(/w/,""))});o.sort(g);i=o.filter(function(r,s){return o.indexOf(r)===s});var j=function(w,u,t){var s=100/u,r=u===33.3333?true:false,v=window.mqGenie&&window.mqGenie.adjusted?t+window.mqGenie.width:t;if(r||(Math.round(s)===s&&(s>1&&s<6))){if(!t){m+="."+w+":nth-child(n) { clear: none; }\n";if(r){m+="."+w+":nth-child(3n+4) { clear: both; }\n"}else{m+="."+w+":nth-child("+s+"n+"+(s+1)+") { clear: both; }\n"}}else{m+="@media (min-width: "+v+"px) { ."+w+"_at_"+t+":nth-child(n) { clear: none; } }\n";if(r){m+="@media (min-width: "+v+"px) { ."+w+"_at_"+t+":nth-child(3n+4) { clear: both; } }\n"}else{m+="@media (min-width: "+v+"px) { ."+w+"_at_"+t+":nth-child("+s+"n+"+(s+1)+") { clear: both; } }\n"}}}};f.forEach(function(s,t){var r=c(s);m+=".w"+s+" { width: "+r+"%; }\n";j("w"+s,r)});m+=".clear:nth-child(n) { clear: both; }\n.unclear:nth-child(n) { clear: none; }\n";i.forEach(function(r,s){f.forEach(function(t,u){var w=c(t),v=parseInt(r);if(window.mqGenie&&window.mqGenie.adjusted){v+=window.mqGenie.width}m+="@media (min-width: "+v+"px) { .w"+t+"_at_"+r+" { width: "+w+"%; } }\n";j("w"+t,w,r);if(u===f.length-1){m+="@media (min-width: "+v+"px) { .clear_at_"+r+" { clear: both; } }\n@media (min-width: "+v+"px) { .unclear_at_"+r+" { clear: none; } }\n"}})});a.css=m;k="("+i.toString().replace(/,/g,", ")+"), ("+f.toString().replace(/,/g,", ")+")";k=k.replace(/(\(|, )16/,"$116.6667").replace(/(\(|, )33/,"$133.3333").replace(/(\(|, )66/,"$166.6666").replace(/(\(|, )83/,"$183.3333");console.log(k)},init:function(){if(!window.getComputedStyle){return}var d=document.createElement("style"),c=document.createElement("style"),b=".grid_container {\nmargin-left: -99px;\n}\n.grid_item {margin-bottom: 99px;\npadding-left: 99px;\n}\n";d.type="text/css";c.type="text/css";c.id="suzi_grid";d.appendChild(document.createTextNode(b));document.head.insertBefore(d,document.getElementsByTagName("link")[0]);a.setup();c.appendChild(document.createTextNode(a.css));document.head.appendChild(c)},refresh:function(){a.setup(true);document.getElementById("suzi_grid").innerHTML=a.css}};a.init();window.suzigrid=a.refresh})(window,document);